{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = 'live_gwzUBlV6zec80E4DQ41a6I9ydxMQcgKV8yN00jrhCdBCFUo44gqt72NiaCIgR9uk';\nconst URL = 'https://api.thecatapi.com/v1/breeds'\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#breed-input');\nconst breedsList = document.querySelector('#breeds-list');\nconst loader = document.querySelector('#loader');\nconst catCard = document.querySelector('#cat-card');\n\nform.addEventListener('submit', handleSubmit);\n\nfetchBreeds()\n\nfunction fetchBreeds() {\n    axios('https://api.thecatapi.com/v1/breeds')\n        .then(res => {\n            console.log(res.data)\n            breedsList.insertAdjacentHTML('beforeend', populateDatalist(res.data))\n        })\n        .catch(error => {\n            console.log(error)\n        })\n}\n\nfunction populateDatalist(arr) {\n    return arr.map(({ id, name }) => `\n    <option value=\"${name}\" data-id=\"${id}\"></option>\n  `).join(\"\")\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n\n    const myBreed = input.value;\n\n    const selectedBreed = [...breedsList.children].find(el => myBreed.toLowerCase().trim() === el.value.toLowerCase())\n\n    if (!selectedBreed) {\n        alert('Select!!');\n        return\n    }\n\n    const myBreedId = selectedBreed.dataset.id;\n\n    loader.classList.remove('hidden');\n\n    axios(`https://api.thecatapi.com/v1/images/search?breed_ids=${myBreedId}`)\n        .then(({ data }) => {\n            if (data.length > 0) {\n                const imgUrl = data[0].url;\n                catCard.innerHTML = `\n          <div class=\"card\">\n            <img class=\"card-image\" src=\"${imgUrl}\" alt=\"${myBreed}\" />\n            <div class=\"card-body\">\n              <h2 class=\"car-title\">${myBreed}</h2>\n            </div>\n          </div>\n        `\n            } else {\n                catCard.innerHTML = `<p class=\"error-text\">Error!</p>`;\n            }\n\n        })\n        .catch(error => {\n            console.log(error)\n        })\n        .finally(() => {\n            loader.classList.add('hidden');\n            input.value = '';\n        })\n\n\n}"],"names":["form","input","breedsList","loader","catCard","handleSubmit","fetchBreeds","axios","res","populateDatalist","error","arr","id","name","e","myBreed","selectedBreed","el","myBreedId","data","imgUrl"],"mappings":"svBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5CC,EAAa,EAEb,SAASA,GAAc,CACnBC,EAAM,qCAAqC,EACtC,KAAKC,GAAO,CACT,QAAQ,IAAIA,EAAI,IAAI,EACpBN,EAAW,mBAAmB,YAAaO,EAAiBD,EAAI,IAAI,CAAC,CACjF,CAAS,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CAEA,SAASD,EAAiBE,EAAK,CAC3B,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAM,IAAK;AAAA,qBAChBA,CAAI,cAAcD,CAAE;AAAA,GACtC,EAAE,KAAK,EAAE,CACZ,CAEA,SAASP,EAAaS,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMC,EAAUd,EAAM,MAEhBe,EAAgB,CAAC,GAAGd,EAAW,QAAQ,EAAE,KAAKe,GAAMF,EAAQ,YAAW,EAAG,KAAM,IAAKE,EAAG,MAAM,YAAW,CAAE,EAEjH,GAAI,CAACD,EAAe,CAChB,MAAM,UAAU,EAChB,MACH,CAED,MAAME,EAAYF,EAAc,QAAQ,GAExCb,EAAO,UAAU,OAAO,QAAQ,EAEhCI,EAAM,wDAAwDW,CAAS,EAAE,EACpE,KAAK,CAAC,CAAE,KAAAC,KAAW,CAChB,GAAIA,EAAK,OAAS,EAAG,CACjB,MAAMC,EAASD,EAAK,CAAC,EAAE,IACvBf,EAAQ,UAAY;AAAA;AAAA,2CAEOgB,CAAM,UAAUL,CAAO;AAAA;AAAA,sCAE5BA,CAAO;AAAA;AAAA;AAAA,SAI7C,MACgBX,EAAQ,UAAY,kCAGpC,CAAS,EACA,MAAMM,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXP,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAM,MAAQ,EAC1B,CAAS,CAGT"}